<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新增商品</title>
    <link rel="stylesheet" href="assets/css/add_new_product.css">
    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
    <script src="JS/add_new_product.js"></script>
</head>
<body>
    <header>新增商品</header>
    <form action="" method="post">
            <div class="product_img">
                商品圖片：
                <div class="photos">
                    <label class="upload_cover">
                        <input type="file" multiple class="upload" accept="image/*" id="progressbarTWInput">
                        <div><img src="assets/image/upload.png"  class="upload_icon" alt=""></div>
                    </label><br>
                    <div id="preview_progressbarTW_imgs"></div>
                </div>
            </div>
            <div class="product_info">
                商品名稱：<input type="text" class="text" placeholder="請輸入商品名稱"><br>
                價格：<input type="number" class="text" placeholder="請輸入價格"><br>
                庫存數量：<input type="number" class="text" placeholder="請輸入庫存數量"><br>
                商品描述：<br>
                <textarea cols="50" rows="20" placeholder="請輸入商品描述"></textarea>
            </div>
            <div class="buttons">
                <input type="reset" value="取消">
                <input type="submit" value="上架商品" class="add">
            </div>
    </form>
    <script>
        $("#progressbarTWInput").change(function(){
          $("#preview_progressbarTW_imgs").html(""); // 清除預覽
          readURL(this);
        });
        
        function readURL(input){
          if (input.files && input.files.length >= 0) {
            for(var i = 0; i < input.files.length; i ++){
              var reader = new FileReader();
              reader.onload = function (e) {
                var img = $("<img  height='90px' margin:0px 10px>").attr('src', e.target.result);
                $("#preview_progressbarTW_imgs").append(img);
              }
              reader.readAsDataURL(input.files[i]);
            }
          }
          else{
             var noPictures = $("<p>目前沒有圖片</p>");
             $("#preview_progressbarTW_imgs").append(noPictures);
          }
        }
    </script>
</body>
</html>